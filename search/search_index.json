{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Django Countries","text":"<p>A Django application that provides country choices for use with forms, flag icons static files, and a country field for models.</p>"},{"location":"#features","title":"Features","text":"<ul> <li>Country Field: Django model field with all ISO 3166-1 countries</li> <li>Translated Names: Country names translated using Django's i18n system</li> <li>Flag Icons: Static flag image files for all countries</li> <li>REST Framework: Full Django REST Framework integration</li> <li>GraphQL: Support for graphene-django</li> <li>Multiple Selection: Support for multiple country selection</li> <li>Customizable: Extensive settings for customization</li> </ul>"},{"location":"#quick-example","title":"Quick Example","text":"<pre><code>from django.db import models\nfrom django_countries.fields import CountryField\n\nclass Person(models.Model):\n    name = models.CharField(max_length=100)\n    country = CountryField()\n</code></pre> <pre><code>&gt;&gt;&gt; from myapp.models import Person\n&gt;&gt;&gt; person = Person.objects.create(name=\"Chris\", country=\"NZ\")\n&gt;&gt;&gt; person.country\nCountry(code='NZ')\n&gt;&gt;&gt; person.country.name\n'New Zealand'\n&gt;&gt;&gt; person.country.flag\n'/static/flags/nz.gif'\n</code></pre>"},{"location":"#translations","title":"Translations","text":"<p>Country names are translated using Django's standard <code>gettext</code> and imported from our Transifex project.</p>"},{"location":"#support","title":"Support","text":"<ul> <li>Python: 3.8, 3.9, 3.10, 3.11, 3.12, 3.13</li> <li>Django: 3.2 (LTS), 4.2 (LTS), 5.0, 5.1</li> <li>Django REST Framework: 3.11+</li> </ul>"},{"location":"#license","title":"License","text":"<p>MIT License. See LICENSE file for details.</p>"},{"location":"#getting-started","title":"Getting Started","text":"<p>Ready to use django-countries? Check out the Installation Guide to get started!</p>"},{"location":"changelog/","title":"Change Log","text":"<p>This log shows interesting changes that happen for each version, latest versions first. It can be assumed that translations have been updated each release, and any new translations added.</p>"},{"location":"changelog/#django_countries-78-4-november-2025","title":"django_countries 7.8 (4 November 2025)","text":""},{"location":"changelog/#improved-documentation","title":"Improved Documentation","text":"<ul> <li>Added MkDocs documentation site and simplified README to focus on quick start with link to full documentation.</li> <li>Consolidated release documentation into CONTRIBUTING.md and improved development setup instructions.</li> </ul>"},{"location":"changelog/#misc","title":"Misc","text":"<ul> <li>Expanded test matrix to cover Python 3.8-3.13 and Django 3.2-5.1 with improved test infrastructure.</li> <li>Fixed various code quality issues identified by ruff linter, including improved string formatting and file handling.</li> <li>Migrated build system from setuptools to uv_build for faster and more modern package building.</li> <li>Simplified release process with automated <code>just deploy</code> command and towncrier for changelog management.</li> </ul>"},{"location":"changelog/#761-2-april-2024","title":"7.6.1 (2 April 2024)","text":"<ul> <li>Fix a TypeError when no country is selected, introduced in the Django 5 fix.</li> </ul>"},{"location":"changelog/#76-27-march-2024","title":"7.6 (27 March 2024)","text":"<ul> <li> <p>Replace deprecated <code>pkg_resources.iter_entry_points</code> with <code>importlib_metadata</code>.</p> </li> <li> <p>Support Django 5.0.</p> </li> </ul>"},{"location":"changelog/#751-1-february-2023","title":"7.5.1 (1 February 2023)","text":"<ul> <li> <p>Make <code>CountryField</code> queryset filters also work with country codes in   addition to names.</p> </li> <li> <p>Switch to <code>pyproject.toml</code> rather than <code>setup.py</code> to fix installation   issues with pip 23.0+.</p> </li> </ul>"},{"location":"changelog/#75-12-december-2022","title":"7.5 (12 December 2022)","text":"<ul> <li> <p>Rename Turkey to T\u00fcrkiye.</p> </li> <li> <p>A change in v7.4 introduced multi-choice countries being stored sorted and   deduplicated. This remains the default behaviour going forwards, but these   can now be overridden via arguments on the <code>CountryField</code>.</p> </li> <li> <p>Improve translation fallback handling, fixing a threading race condition that   could cause odd translation issues. Thanks to Jan Wr\u00f3blewski and Antoine   Fontaine for their help in resolving this.   This also fixes translation issues with older Python 3.6/3.7 versions.</p> </li> <li> <p>Add Python 3.11, drop Python 3.6 and Django 2.2 support.</p> </li> </ul>"},{"location":"changelog/#742-10-october-2022","title":"7.4.2 (10 October 2022)","text":"<ul> <li>Fix error when using <code>USE_I18N = False</code>.</li> </ul>"},{"location":"changelog/#741-7-october-2022","title":"7.4.1 (7 October 2022)","text":"<ul> <li>Fix broken translations due to last common country names fix.</li> </ul>"},{"location":"changelog/#74-7-october-2022","title":"7.4 (7 October 2022)","text":"<ul> <li> <p>Fixed Traditional Chinese translation (needed to be <code>locale/zh_Hant</code>).</p> </li> <li> <p>Update flag of Honduras.</p> </li> <li> <p>Add Django 4.0 and 4.1 to the test matrix, dropping 3.0 and 3.1</p> </li> <li> <p>Add Django Rest Framework 3.13 and 3.14, dropping 3.11.</p> </li> <li> <p>Multi-choice countries are now stored sorted and with duplicates stripped.   Thanks flbraun and Jens Diemer!</p> </li> <li> <p>Fix common country names not being honoured in non-English translations (only   fixed for Python 3.8+).</p> </li> </ul>"},{"location":"changelog/#732-4-march-2022","title":"7.3.2 (4 March 2022)","text":"<ul> <li>Fix slowdown introduced in v7.3 caused by always using country name lookups   for field comparisons. <code>filter(country=\"New Zealand\")</code> will no longer match   now, but instead new <code>__name</code> and <code>__iname</code> filters have been added to   achieve this.</li> </ul>"},{"location":"changelog/#731-1-march-2022","title":"7.3.1 (1 March 2022)","text":"<ul> <li>Typing compatibility fixes for Python &lt;3.9.</li> </ul>"},{"location":"changelog/#73-28-february-2022","title":"7.3 (28 February 2022)","text":"<ul> <li>Make full English country names work in database lookups, for example, <code>Person.objects.filter(country__icontains=\"zealand\")</code>.</li> </ul>"},{"location":"changelog/#721-11-may-2021","title":"7.2.1 (11 May 2021)","text":"<ul> <li>Fix Latin translations.</li> </ul>"},{"location":"changelog/#72-10-may-2021","title":"7.2 (10 May 2021)","text":"<ul> <li> <p>Allow the character field to work with custom country codes that are not 2   characters (such as \"GB-WLS\").</p> </li> <li> <p>Fix compatibility with <code>django-migrations-ignore-attrs</code> library.</p> </li> </ul>"},{"location":"changelog/#71-17-march-2021","title":"7.1 (17 March 2021)","text":"<ul> <li> <p>Allow customising the <code>str_attr</code> of Country objects returned from a   CountryField via a new <code>countries_str_attr</code> keyword argument (thanks C.   Quentin).</p> </li> <li> <p>Add <code>pyuca</code> as an extra dependency, so that it can be installed like <code>pip install django-countries[pyuca]</code>.</p> </li> <li> <p>Add Django 3.2 support.</p> </li> </ul>"},{"location":"changelog/#70-5-december-2020","title":"7.0 (5 December 2020)","text":"<ul> <li> <p>Add <code>name_only</code> as an option to the Django Rest Framework serializer field   (thanks Miguel Marques).</p> </li> <li> <p>Add in Python typing.</p> </li> <li> <p>Add Python 3.9, Django 3.1, and Django Rest Framework 3.12 support.</p> </li> <li> <p>Drop Python 3.5 support.</p> </li> <li> <p>Improve IOC code functionality, allowing them to be overridden in <code>COUNTRIES_OVERRIDE</code> using the complex dictionary format.</p> </li> </ul>"},{"location":"changelog/#613-18-august-2020","title":"6.1.3 (18 August 2020)","text":"<ul> <li> <p>Update flag of Mauritania.</p> </li> <li> <p>Add flag for Kosovo (under its temporary code of XK).</p> </li> </ul>"},{"location":"changelog/#612-26-march-2020","title":"6.1.2 (26 March 2020)","text":"<ul> <li>Fix Python 3.5 syntax error (no f-strings just yet...).</li> </ul>"},{"location":"changelog/#611-26-march-2020","title":"6.1.1 (26 March 2020)","text":"<ul> <li>Change ISO country import so that \"Falkland Islands  [Malvinas]\" =&gt; \"Falkland Islands (Malvinas)\".</li> </ul>"},{"location":"changelog/#61-20-march-2020","title":"6.1 (20 March 2020)","text":"<ul> <li>Add a GraphQL object type for a django <code>Country</code> object.</li> </ul>"},{"location":"changelog/#60-28-february-2020","title":"6.0 (28 February 2020)","text":"<ul> <li> <p>Make DRF CountryField respect <code>blank=False</code>. This is a backwards incompatible change since blank input will now   return a validation error (unless <code>blank</code> is explicitly set to <code>True</code>).</p> </li> <li> <p>Fix <code>COUNTRIES_OVERRIDE</code> when using the complex dictionary format and a single name.</p> </li> <li> <p>Add bandit to the test suite for basic security analysis.</p> </li> <li> <p>Drop Python 2.7 and Python 3.4 support.</p> </li> <li> <p>Add Rest Framework 3.10 and 3.11 to the test matrix, remove 3.8.</p> </li> <li> <p>Fix a memory leak when using PyUCA. Thanks Meiyer (aka interDist)!</p> </li> </ul>"},{"location":"changelog/#55-11-september-2019","title":"5.5 (11 September 2019)","text":"<ul> <li> <p>Django 3.0 compatibility.</p> </li> <li> <p>Plugin system for extending the <code>Country</code> object.</p> </li> </ul>"},{"location":"changelog/#54-11-august-2019","title":"5.4 (11 August 2019)","text":"<ul> <li> <p>Renamed Macedonia -&gt; North Macedonia.</p> </li> <li> <p>Fix an outlying <code>makemigrations</code> error.</p> </li> <li> <p>Pulled in new translations which were provided but missing from previous   version.</p> </li> <li> <p>Fixed Simplified Chinese translation (needed to be <code>locale/zh_Hans</code>).</p> </li> <li> <p>Introduce an optional complex format for <code>COUNTRIES_ONLY</code> and <code>COUNTRIES_OVERRIDE</code> to allow for multiple names for a country, a custom   three character code, and a custom numeric country code.</p> </li> </ul>"},{"location":"changelog/#533-16-february-2019","title":"5.3.3 (16 February 2019)","text":"<ul> <li>Add test coverage for Django Rest Framework 3.9.</li> </ul>"},{"location":"changelog/#532-27-august-2018","title":"5.3.2 (27 August 2018)","text":"<ul> <li>Tests for Django 2.1 and Django Rest Framework 3.8.</li> </ul>"},{"location":"changelog/#531-12-june-2018","title":"5.3.1 (12 June 2018)","text":"<ul> <li>Fix <code>dumpdata</code> and <code>loaddata</code> for <code>CountryField(multiple=True)</code>.</li> </ul>"},{"location":"changelog/#53-20-april-2018","title":"5.3 (20 April 2018)","text":"<ul> <li>Iterating a <code>Countries</code> object now returns named tuples. This makes things   nicer when using <code>{% get_countries %}</code> or using the country list elsewhere   in your code.</li> </ul>"},{"location":"changelog/#52-9-march-2018","title":"5.2 (9 March 2018)","text":"<ul> <li> <p>Ensure Django 2.1 compatibility for <code>CountrySelectWidget</code>.</p> </li> <li> <p>Fix regression introduced into 5.1 when using Django 1.8 and certain queryset   lookup types (like <code>__in</code>).</p> </li> </ul>"},{"location":"changelog/#511-31-january-2018","title":"5.1.1 (31 January 2018)","text":"<ul> <li>Fix some translations that were included in 5.1 but not compiled.</li> </ul>"},{"location":"changelog/#51-30-january-2018","title":"5.1 (30 January 2018)","text":"<ul> <li> <p>Tests now also cover Django Rest Framework 3.7 and Django 2.0.</p> </li> <li> <p>Allow for creating country fields using (valid) alpha-3 or numeric codes.</p> </li> <li> <p>Fix migration error with blank default (thanks Jens Diemer).</p> </li> <li> <p>Add a <code>{% get_countries %}</code> template tag (thanks Matija \u010cvrk).</p> </li> </ul>"},{"location":"changelog/#50-10-october-2017","title":"5.0 (10 October 2017)","text":"<ul> <li>No longer allow <code>multiple=True</code> and <code>null=True</code> together. This causes   problems saving the field, and <code>null</code> shouldn't really be used anyway   because the country field is a subclass of <code>CharField</code>.</li> </ul>"},{"location":"changelog/#462-16-june-2017","title":"4.6.2 (16 June 2017)","text":"<ul> <li>Use transparency layer for flag sprites.</li> </ul>"},{"location":"changelog/#461-16-june-2017","title":"4.6.1 (16 June 2017)","text":"<ul> <li>Fix invalid reStructuredText in CHANGES.</li> </ul>"},{"location":"changelog/#46-16-june-2017","title":"4.6 (16 June 2017)","text":"<ul> <li> <p>Add a <code>CountryFieldMixin</code> Django Rest Framework serializer mixin that   automatically picks the right field type for a <code>CountryField</code> (both single   and multi-choice).</p> </li> <li> <p>Validation for Django Rest Framework field (thanks Simon Meers).</p> </li> <li> <p>Allow case-insensitive <code>.by_name()</code> matching (thanks again, Simon).</p> </li> <li> <p>Ensure a multiple-choice <code>CountryField.max_length</code> is enough to hold all   countries.</p> </li> <li> <p>Fix inefficient pickling of countries (thanks Craig de Stigter for the report   and tests).</p> </li> <li> <p>Stop adding a blank choice when dealing with a multi-choice <code>CountryField</code>.</p> </li> <li> <p>Tests now cover multiple Django Rest Framework versions (back to 3.3).</p> </li> </ul>"},{"location":"changelog/#45-18-april-2017","title":"4.5 (18 April 2017)","text":"<ul> <li> <p>Change rest framework field to be based on <code>ChoiceField</code>.</p> </li> <li> <p>Allow for the rest framework field to deserialize by full country name   (specifically the English name for now).</p> </li> </ul>"},{"location":"changelog/#44-6-april-2017","title":"4.4 (6 April 2017)","text":"<ul> <li> <p>Fix for broken CountryField on certain models in Django 1.11.   Thanks aktiur for the test case.</p> </li> <li> <p>Update tests to cover Django 1.11</p> </li> </ul>"},{"location":"changelog/#43-29-march-2017","title":"4.3 (29 March 2017)","text":"<ul> <li> <p>Handle \"Czechia\" translations in a nicer way (fall back to \"Czech Republic\"   until new translations are available).</p> </li> <li> <p>Fix for an import error in Django 1.9+ due to use of non-lazy <code>ugettext</code> in   the django-countries custom admin filter.</p> </li> <li> <p>Back to 100% test coverage.</p> </li> </ul>"},{"location":"changelog/#42-10-march-2017","title":"4.2 (10 March 2017)","text":"<ul> <li>Add sprite flag files (and <code>Country.flag_css</code> property) to help minimize   HTTP requests.</li> </ul>"},{"location":"changelog/#41-22-february-2017","title":"4.1 (22 February 2017)","text":"<ul> <li> <p>Better default Django admin filter when filtering a country field in a <code>ModelAdmin</code>.</p> </li> <li> <p>Fix settings to support Django 1.11</p> </li> <li> <p>Fix when using a model instance with a deferred country field.</p> </li> <li> <p>Allow <code>CountryField</code> to handle multiple countries at once!</p> </li> <li> <p>Allow CountryField to still work if Deferred.</p> </li> <li> <p>Fix a field with customized country list. Thanks pilmie!</p> </li> </ul>"},{"location":"changelog/#401-16-august-2016","title":"4.0.1 (16 August 2016)","text":"<ul> <li>Fix tests for <code>COUNTRIES_FIRST_SORT</code> (feature still worked, tests didn't).</li> </ul>"},{"location":"changelog/#40-16-august-2016","title":"4.0 (16 August 2016)","text":"<p>Django supported versions are now 1.8+</p> <ul> <li> <p>Drop legacy code</p> </li> <li> <p>Fix tests, 100% coverage</p> </li> <li> <p>IOS / OSX unicode flags function</p> </li> <li> <p>Fix widget choices on Django 1.9+</p> </li> <li> <p>Add <code>COUNTRIES_FIRST_SORT</code>. Thanks Edraak!</p> </li> </ul>"},{"location":"changelog/#341-22-october-2015","title":"3.4.1 (22 October 2015)","text":"<ul> <li>Fix minor packaging error.</li> </ul>"},{"location":"changelog/#34-22-october-2015","title":"3.4 (22 October 2015)","text":"<ul> <li> <p>Extend test suite to cover Django 1.8</p> </li> <li> <p>Fix XSS escaping issue in CountrySelectWidget</p> </li> <li> <p>Common name changes: fix typo of Moldova, add United Kingdom</p> </li> <li> <p>Add <code>{% get_country %}</code> template tag.</p> </li> <li> <p>New <code>CountryField</code> Django Rest Framework serializer field.</p> </li> </ul>"},{"location":"changelog/#33-30-mar-2015","title":"3.3 (30 Mar 2015)","text":"<ul> <li> <p>Add the attributes to <code>Countries</code> class that can override the default   settings.</p> </li> <li> <p>CountriesField can now be passed a custom countries subclass to use, which   combined with the previous change allows for different country choices for   different fields.</p> </li> <li> <p>Allow <code>COUNTRIES_ONLY</code> to also accept just country codes in its list   (rather than only two-tuples), looking up the translatable country name from   the full country list.</p> </li> <li> <p>Fix Montenegro flag size (was 12px high rather than the standard 11px).</p> </li> <li> <p>Fix outdated ISO country name formatting for Bolivia, Gambia, Holy See,   Iran, Micronesia, and Venezuela.</p> </li> </ul>"},{"location":"changelog/#32-24-feb-2015","title":"3.2 (24 Feb 2015)","text":"<ul> <li> <p>Fixes initial iteration failing for a fresh <code>Countries</code> object.</p> </li> <li> <p>Fix widget's flag URLs (and use ensure widget is HTML encoded safely).</p> </li> <li> <p>Add <code>countries.by_name(country, language='en')</code> method, allowing lookup of   a country code by its full country name. Thanks Josh Schneier.</p> </li> </ul>"},{"location":"changelog/#311-15-jan-2015","title":"3.1.1 (15 Jan 2015)","text":"<ul> <li>Packaging fix (<code>CHANGES.rst</code> wasn't in the manifest)</li> </ul>"},{"location":"changelog/#31-15-jan-2015","title":"3.1 (15 Jan 2015)","text":"<ul> <li> <p>Start change log :)</p> </li> <li> <p>Add a <code>COUNTRIES_FIRST</code> setting (and some other related ones) to allow for   specific countries to be shown before the entire alphanumeric list.</p> </li> <li> <p>Add a <code>blank_label</code> argument to <code>CountryField</code> to allow customization of   the label shown in the initial blank choice shown in the select widget.</p> </li> </ul>"},{"location":"changelog/#302-29-dec-2014","title":"3.0.2 (29 Dec 2014)","text":"<ul> <li>Fix <code>CountrySelectWidget</code> failing when used with a model form that is   passed a model instance.</li> </ul>"},{"location":"changelog/#301-27-oct-2014","title":"3.0.1 (27 Oct 2014)","text":"<ul> <li> <p>Revert descriptor to always return a Country object.</p> </li> <li> <p>Fix the <code>CountryField</code> widget choices appearing empty due to a translation   change in v3.0.</p> </li> </ul>"},{"location":"changelog/#30-22-oct-2014","title":"3.0 (22 Oct 2014)","text":"<p>Django supported versions are now 1.4 (LTS) and 1.6+</p> <ul> <li> <p>Add <code>COUNTRIES_ONLY</code> setting to restrict to a specific list of countries.</p> </li> <li> <p>Optimize country name translations to avoid exessive translation calls that   were causing a notable performance impact.</p> </li> <li> <p>PyUCA integration, allowing for more accurate sorting across all locales.   Also, a better sorting method when PyUCA isn't installed.</p> </li> <li> <p>Better tests (now at 100% test coverage).</p> </li> <li> <p>Add a <code>COUNTRIES_FLAG_URL</code> setting to allow custom flag urls.</p> </li> <li> <p>Support both IOC and numeric country codes, allowing more flexible lookup of   countries and specific code types.</p> </li> <li> <p>Field descriptor now returns <code>None</code> if no country matches (reverted in   v3.0.1)</p> </li> </ul>"},{"location":"changelog/#212-28-mar-2014","title":"2.1.2 (28 Mar 2014)","text":"<ul> <li>Fix Python 3 compatibility.</li> </ul>"},{"location":"changelog/#211-28-mar-2014","title":"2.1.1 (28 Mar 2014)","text":"<ul> <li>Fix issue with translations getting evaluated early.</li> </ul>"},{"location":"changelog/#21-24-mar-2014","title":"2.1 (24 Mar 2014)","text":"<ul> <li> <p>Add IOC (3 letter) country codes.</p> </li> <li> <p>Fix bug when loading fixtures.</p> </li> </ul>"},{"location":"changelog/#20-18-feb-2014","title":"2.0 (18 Feb 2014)","text":"<p>This is the first entry to the change log. The previous was 1.5, released 19 Nov 2012.</p> <ul> <li> <p>Optimized flag images, adding flags missing from original source.</p> </li> <li> <p>Better storage of settings and country list.</p> </li> <li> <p>New country list format for fields.</p> </li> <li> <p>Better tests.</p> </li> <li> <p>Changed <code>COUNTRIES_FLAG_STATIC</code> setting to <code>COUNTRIES_FLAG_URL</code>.</p> </li> </ul>"},{"location":"contributing/","title":"Contributing to django-countries","text":"<p>Thank you for considering contributing to django-countries!</p>"},{"location":"contributing/#contributing-translations","title":"\ud83c\udf0d Contributing Translations","text":"<p>Want to help translate country names? Visit our Transifex project to contribute translations. No coding required!</p> <p>Country names are translated using Django's standard i18n system. All translation work is done through Transifex, making it easy for anyone to contribute translations in their language.</p>"},{"location":"contributing/#development-setup","title":"Development Setup","text":"<p>The rest of this guide covers code contributions. If you're contributing translations, head to Transifex instead!</p> <p>This project uses modern Python tooling: - uv - Fast Python package manager and runner - just - Command runner for common development tasks - ruff - Fast all-in-one linter and formatter</p>"},{"location":"contributing/#prerequisites","title":"Prerequisites","text":"<ol> <li> <p>Install uv (Python package manager) <pre><code>curl -LsSf https://astral.sh/uv/install.sh | sh\n</code></pre>    Or see uv installation docs</p> </li> <li> <p>Install just (command runner) <pre><code># macOS\nbrew install just\n\n# Linux (using cargo)\ncargo install just\n\n# Or download from: https://github.com/casey/just\n</code></pre></p> </li> </ol>"},{"location":"contributing/#quick-start","title":"Quick Start","text":"<pre><code># Set up development environment\nuv sync\n\n# Run all tests and coverage\njust test\n\n# Run all checks (format, lint, type, docs, tests)\njust check\n</code></pre>"},{"location":"contributing/#available-commands","title":"Available Commands","text":"<p>See all commands: <pre><code>just --list\n</code></pre></p>"},{"location":"contributing/#testing","title":"Testing","text":"<pre><code># Run all test environments (Python 3.8-3.13, Django 3.2-5.1)\njust test\n\n# Quick test with current Python (no coverage matrix)\njust test quick\n\n# Run specific environment\njust test [latest|previous|legacy|latest-pyuca|latest-noi18n]\n\n# Examples:\njust test latest           # Latest Django/DRF with Python 3.13\njust test previous         # Django 4.2 with Python 3.10\njust test legacy           # Django 3.2 with Python 3.8\n\n# Run specific environment with custom Python version\njust test [latest|previous|legacy|latest-pyuca|latest-noi18n] [3.8-3.13]\n\n# Examples:\njust test latest 3.12      # Latest Django with Python 3.12\njust test previous 3.9     # Django 4.2 with Python 3.9\n</code></pre> <p>Test environments: - legacy: Python 3.8 + Django 3.2 + DRF 3.11 - previous: Python 3.10 + Django 4.2 + DRF 3.14 - latest: Python 3.13 + Django 5.1 + DRF 3.15 - latest-pyuca: Latest + pyuca (Unicode collation) - latest-noi18n: Latest + i18n disabled</p> <p>Coverage is automatically generated when running <code>just test</code>.</p>"},{"location":"contributing/#code-quality","title":"Code Quality","text":"<p>The <code>just check</code> command runs all quality checks (formatting, linting, type checking, docs, and tests).</p> <p>For individual checks, you can run the tools directly:</p> <pre><code># Format code (import sorting + formatting)\nuv run ruff check --select I --fix django_countries\nuv run ruff format django_countries\n\n# Check formatting without changes\nuv run ruff check --select I django_countries\nuv run ruff format --check django_countries\n\n# Run linters\nuv run ruff check django_countries\nuv run bandit -r django_countries -x tests\n\n# Type checking\nuv run mypy django_countries\n</code></pre>"},{"location":"contributing/#development-workflow","title":"Development Workflow","text":"<ol> <li>Make changes to the code</li> <li>Run tests: <code>just test quick</code> (fastest) or <code>just test latest</code> (single env) or <code>just test</code> (full matrix)</li> <li>Check everything: <code>just check</code> (runs all checks)</li> <li>Commit your changes</li> </ol>"},{"location":"contributing/#pre-commit-hooks","title":"Pre-commit Hooks","text":"<p>Optional but recommended:</p> <pre><code># Install pre-commit hooks\nuvx pre-commit install\n\n# Run hooks manually on all files\nuvx pre-commit run --all-files\n</code></pre>"},{"location":"contributing/#testing_1","title":"Testing","text":"<p>Tests are in <code>django_countries/tests/</code>: - <code>test_fields.py</code> - CountryField model field tests - <code>test_countries.py</code> - Countries class tests - <code>test_drf.py</code> - Django REST Framework integration - <code>test_admin_filters.py</code> - Admin filter tests - <code>test_widgets.py</code> - Widget rendering tests - <code>test_tags.py</code> - Template tag tests - <code>graphql/</code> - GraphQL integration tests</p>"},{"location":"contributing/#coverage-requirements","title":"Coverage Requirements","text":"<ul> <li>Tests: 100% coverage required</li> <li>Source code: 90% coverage required</li> </ul> <p>Coverage is generated automatically when running <code>just test</code>. View the report by opening <code>htmlcov/index.html</code> in your browser.</p>"},{"location":"contributing/#code-style","title":"Code Style","text":"<p>This project uses: - ruff for linting, import sorting, and formatting - mypy for type checking - bandit for security scanning</p> <p>The pre-commit hooks will automatically enforce style. You can also run <code>just check</code> to verify all style requirements.</p>"},{"location":"contributing/#migration-from-tox","title":"Migration from Tox","text":"<p>If you previously used <code>tox</code>, here's the command mapping:</p> Old (tox) New (uv/just) <code>tox</code> <code>just test</code> <code>tox -e py311-latest</code> <code>just test latest 3.11</code> <code>tox -e mypy</code> <code>uv run mypy django_countries</code> <code>tox -e bandit</code> <code>uv run bandit -r django_countries -x tests</code> <code>tox -e readme</code> <code>uv run --group docs mkdocs build --strict</code> <code>black .</code> <code>uv run ruff format django_countries</code>"},{"location":"contributing/#releasing-for-maintainers","title":"Releasing (for Maintainers)","text":""},{"location":"contributing/#prerequisites_1","title":"Prerequisites","text":"<p>Before releasing, ensure you have: - Your PyPI credentials in your keyring and the <code>keyring</code> tool installed (see setup below) - The Transifex CLI installed (see installation instructions below)</p>"},{"location":"contributing/#quick-release-recommended","title":"Quick Release (Recommended)","text":"<p>The <code>just deploy [patch|minor|major]</code> command handles the entire release process (bump type required):</p> <pre><code># For a patch release (bug fixes: 7.7.0 -&gt; 7.7.1)\njust deploy patch\n\n# For a minor release (new features: 7.7.0 -&gt; 7.8.0)\njust deploy minor\n\n# For a major release (breaking changes: 7.7.0 -&gt; 8.0.0)\njust deploy major\n</code></pre> <p>This will: 1. Check for uncommitted changes (must have clean working directory) 2. Pull latest changes from git 3. Pull and compile translations from Transifex 4. Commit translation updates (if any) 5. Preview changelog to verify fragments exist 6. Bump version in pyproject.toml 7. Run pre-commit checks on version bump 8. Build package to verify everything works 9. Build changelog from fragments and commit atomically 10. Create and push git tag 11. Build final package and publish to PyPI 12. Deploy documentation to GitHub Pages</p> <p>Note: Add changelog entries to <code>changes/</code> directory before releasing. See <code>changes/README.md</code> for details.</p> <p>After the release, remember to bump to the next development version:</p> <pre><code>uv version --bump minor\n# Manually edit pyproject.toml to change version from X.Y.0 to X.Y.dev0\ngit add pyproject.toml\ngit commit -m \"Back to development: X.Y.dev0\"\ngit push\n</code></pre>"},{"location":"contributing/#manual-release","title":"Manual Release","text":"<p>If you prefer manual control, you can do each step individually:</p> <p>1. Prepare translations</p> <pre><code>just tx-pull\ngit add django_countries/locale\ngit commit -m \"Update translations from Transifex\"\n</code></pre> <p>2. Bump version</p> <pre><code>uv version --bump patch   # or minor/major\n</code></pre> <p>3. Build changelog</p> <pre><code>uv run --group dev towncrier build --version $(uv version --short) --date \"$(date '+%-d %B %Y')\" --yes\n</code></pre> <p>4. Commit and tag</p> <pre><code>git add pyproject.toml CHANGES.md changes/\ngit commit -m \"Preparing release $(uv version --short)\"\ngit tag -a v$(uv version --short) -m \"Release v$(uv version --short)\"\ngit push --tags\ngit push\n</code></pre> <p>5. Build and publish</p> <pre><code>rm -rf dist\nuv build\nuv publish\n</code></pre>"},{"location":"contributing/#setting-up-pypi-credentials","title":"Setting Up PyPI Credentials","text":"<p>Install keyring (used by uv for publishing) and set your credentials:</p> <pre><code>uv tool install keyring\nkeyring set 'https://upload.pypi.org/legacy/' __token__\n</code></pre> <p>Next, add these environment variables (e.g., in your <code>~/.bashrc</code> or <code>~/.zshrc</code>):</p> <pre><code>export UV_KEYRING_PROVIDER=subprocess\nexport UV_PUBLISH_USERNAME=__token__\n</code></pre>"},{"location":"contributing/#installing-transifex-cli","title":"Installing Transifex CLI","text":"<p>The Transifex CLI is required for pulling translations before a release:</p> <pre><code># Install using the official installer\ncurl -o- https://raw.githubusercontent.com/transifex/cli/master/install.sh | bash\n</code></pre> <p>See the Transifex CLI documentation for alternative installation methods.</p>"},{"location":"contributing/#getting-help","title":"Getting Help","text":"<ul> <li>Check <code>just --list</code> for available commands</li> <li>See the documentation for project information</li> <li>Open an issue on GitHub for questions or problems</li> </ul>"},{"location":"contributing/#pull-requests","title":"Pull Requests","text":"<ol> <li>Fork the repository</li> <li>Create a feature branch</li> <li>Make your changes</li> <li>Add a changelog entry in <code>changes/</code> (see <code>changes/README.md</code>)</li> <li>Run <code>just check</code> to ensure all checks pass</li> <li>Submit a pull request</li> </ol> <p>All PRs must pass CI checks (formatting, linting, type checking, tests).</p>"},{"location":"contributing/#adding-changelog-entries","title":"Adding Changelog Entries","text":"<p>For changes that should appear in the release notes, create a file in the <code>changes/</code> directory:</p> <pre><code># With issue/PR number\necho \"Your change description\" &gt; changes/123.bugfix.rst\n\n# Without issue/PR (prefix with +)\necho \"Your change description\" &gt; changes/+20250104.misc.rst\n</code></pre> <p>Types: <code>feature</code>, <code>bugfix</code>, <code>doc</code>, <code>removal</code>, <code>misc</code></p> <p>See <code>changes/README.md</code> for full details.</p>"},{"location":"installation/","title":"Installation","text":""},{"location":"installation/#basic-installation","title":"Basic Installation","text":"<p>Install django-countries using pip:</p> <pre><code>pip install django-countries\n</code></pre>"},{"location":"installation/#optional-better-unicode-sorting","title":"Optional: Better Unicode Sorting","text":"<p>For more accurate sorting of translated country names, install with the optional pyuca package:</p> <pre><code>pip install django-countries[pyuca]\n</code></pre> <p>This improves sorting for non-ASCII country names by using the Unicode Collation Algorithm.</p>"},{"location":"installation/#django-configuration","title":"Django Configuration","text":"<p>Add <code>django_countries</code> to your <code>INSTALLED_APPS</code>:</p> <pre><code>INSTALLED_APPS = [\n    # ...\n    'django_countries',\n    # ...\n]\n</code></pre>"},{"location":"installation/#verify-installation","title":"Verify Installation","text":"<p>You can verify the installation by running:</p> <pre><code>&gt;&gt;&gt; from django_countries import countries\n&gt;&gt;&gt; countries['NZ']\n'New Zealand'\n</code></pre>"},{"location":"installation/#next-steps","title":"Next Steps","text":"<ul> <li>Quick Start Guide - Get up and running quickly</li> <li>CountryField Usage - Learn about the country field</li> <li>Settings - Configure django-countries for your needs</li> </ul>"},{"location":"quickstart/","title":"Quick Start Guide","text":"<p>This guide will help you get started with django-countries in just a few minutes.</p>"},{"location":"quickstart/#basic-usage","title":"Basic Usage","text":""},{"location":"quickstart/#define-a-model","title":"Define a Model","text":"<p>Create a model with a <code>CountryField</code>:</p> <pre><code>from django.db import models\nfrom django_countries.fields import CountryField\n\nclass Person(models.Model):\n    name = models.CharField(max_length=100)\n    country = CountryField()\n</code></pre>"},{"location":"quickstart/#use-in-your-code","title":"Use in Your Code","text":"<pre><code>&gt;&gt;&gt; from myapp.models import Person\n&gt;&gt;&gt; person = Person.objects.create(name=\"Chris\", country=\"NZ\")\n&gt;&gt;&gt; person.country\nCountry(code='NZ')\n&gt;&gt;&gt; person.country.name\n'New Zealand'\n&gt;&gt;&gt; person.country.code\n'NZ'\n&gt;&gt;&gt; person.country.flag\n'/static/flags/nz.gif'\n</code></pre>"},{"location":"quickstart/#query-by-country","title":"Query by Country","text":"<pre><code># Get all people from New Zealand\n&gt;&gt;&gt; Person.objects.filter(country='NZ')\n\n# Query by country name\n&gt;&gt;&gt; Person.objects.filter(country__name='New Zealand')\n</code></pre>"},{"location":"quickstart/#forms","title":"Forms","text":"<p>django-countries automatically provides a form field with a dropdown of all countries:</p> <pre><code>from django import forms\nfrom myapp.models import Person\n\nclass PersonForm(forms.ModelForm):\n    class Meta:\n        model = Person\n        fields = ['name', 'country']\n</code></pre> <p>The country field will render as a select dropdown with all countries.</p>"},{"location":"quickstart/#templates","title":"Templates","text":"<p>Access country properties in templates:</p> <pre><code>&lt;p&gt;{{ person.name }} is from {{ person.country.name }}&lt;/p&gt;\n&lt;img src=\"{{ person.country.flag }}\" alt=\"{{ person.country.name }} flag\"&gt;\n</code></pre>"},{"location":"quickstart/#unicode-flag-emoji","title":"Unicode Flag Emoji","text":"<pre><code>&lt;p&gt;{{ person.country.unicode_flag }} {{ person.country.name }}&lt;/p&gt;\n</code></pre>"},{"location":"quickstart/#admin","title":"Admin","text":"<p>The country field works out of the box in Django admin with a searchable dropdown.</p>"},{"location":"quickstart/#next-steps","title":"Next Steps","text":"<ul> <li>CountryField Details - Learn about all field options</li> <li>Forms &amp; Widgets - Customize form rendering</li> <li>Settings - Configure country lists and behavior</li> <li>Template Tags - Use template tags for advanced features</li> </ul>"},{"location":"advanced/customization/","title":"Customization","text":""},{"location":"advanced/customization/#customize-the-country-list","title":"Customize the Country List","text":"<p>Country names are taken from the official ISO 3166-1 list, with some country names being replaced with their more common usage (such as \"Bolivia\" instead of \"Bolivia, Plurinational State of\").</p>"},{"location":"advanced/customization/#use-official-iso-names","title":"Use Official ISO Names","text":"<p>To retain the official ISO 3166-1 naming for all fields, set the <code>COUNTRIES_COMMON_NAMES</code> setting to <code>False</code>:</p> <pre><code>COUNTRIES_COMMON_NAMES = False\n</code></pre>"},{"location":"advanced/customization/#override-specific-countries","title":"Override Specific Countries","text":"<p>If your project requires the use of alternative names, the inclusion or exclusion of specific countries, set the <code>COUNTRIES_OVERRIDE</code> setting to a dictionary of names which override the defaults.</p> <p>Note</p> <p>You will need to handle translation of customized country names.</p> <p>Setting a country's name to <code>None</code> will exclude it from the country list. For example:</p> <pre><code>from django.utils.translation import gettext_lazy as _\n\nCOUNTRIES_OVERRIDE = {\n    \"NZ\": _(\"Middle Earth\"),\n    \"AU\": None,  # Exclude Australia\n    \"US\": {\n        \"names\": [\n            _(\"United States of America\"),\n            _(\"America\"),\n        ],\n    },\n}\n</code></pre>"},{"location":"advanced/customization/#limit-to-specific-countries","title":"Limit to Specific Countries","text":"<p>If you have a specific list of countries that should be used, use <code>COUNTRIES_ONLY</code>:</p> <pre><code>COUNTRIES_ONLY = [\"NZ\", \"AU\"]\n</code></pre> <p>Or to specify your own country names, use a dictionary or two-tuple list (string items will use the standard country name):</p> <pre><code>from django.utils.translation import gettext_lazy as _\n\nCOUNTRIES_ONLY = [\n    \"US\",\n    \"GB\",\n    (\"NZ\", _(\"Middle Earth\")),\n    (\"AU\", _(\"Desert\")),\n]\n</code></pre>"},{"location":"advanced/customization/#show-certain-countries-first","title":"Show Certain Countries First","text":"<p>Provide a list of country codes as the <code>COUNTRIES_FIRST</code> setting and they will be shown first in the countries list (in the order specified) before all the alphanumerically sorted countries:</p> <pre><code>COUNTRIES_FIRST = [\"US\", \"GB\", \"CA\"]\n</code></pre>"},{"location":"advanced/customization/#sort-first-countries","title":"Sort First Countries","text":"<p>If you want to sort these initial countries too, set the <code>COUNTRIES_FIRST_SORT</code> setting to <code>True</code>:</p> <pre><code>COUNTRIES_FIRST = [\"US\", \"GB\", \"CA\"]\nCOUNTRIES_FIRST_SORT = True\n</code></pre>"},{"location":"advanced/customization/#repeat-first-countries","title":"Repeat First Countries","text":"<p>By default, these initial countries are not repeated again in the alphanumerically sorted list. If you would like them to be repeated, set the <code>COUNTRIES_FIRST_REPEAT</code> setting to <code>True</code>:</p> <pre><code>COUNTRIES_FIRST = [\"US\", \"GB\", \"CA\"]\nCOUNTRIES_FIRST_REPEAT = True\n</code></pre>"},{"location":"advanced/customization/#add-separator","title":"Add Separator","text":"<p>You can optionally separate these \"first\" countries with an empty choice by providing the choice label as the <code>COUNTRIES_FIRST_BREAK</code> setting:</p> <pre><code>COUNTRIES_FIRST = [\"US\", \"GB\", \"CA\"]\nCOUNTRIES_FIRST_BREAK = \"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\"\n</code></pre>"},{"location":"advanced/customization/#customize-the-flag-url","title":"Customize the Flag URL","text":"<p>The <code>COUNTRIES_FLAG_URL</code> setting can be used to set the URL for the flag image assets. It defaults to:</p> <pre><code>COUNTRIES_FLAG_URL = \"flags/{code}.gif\"\n</code></pre> <p>The URL can be relative to the <code>STATIC_URL</code> setting, or an absolute URL.</p> <p>The location is parsed using Python's string formatting and is passed the following arguments:</p> <ul> <li><code>code</code> - lowercase country code</li> <li><code>code_upper</code> - uppercase country code</li> </ul> <p>For example:</p> <pre><code>COUNTRIES_FLAG_URL = \"flags/16x10/{code_upper}.png\"\n</code></pre> <p>Note</p> <p>No checking is done to ensure that a static flag actually exists.</p>"},{"location":"advanced/customization/#per-field-flag-url","title":"Per-Field Flag URL","text":"<p>Alternatively, you can specify a different URL on a specific <code>CountryField</code>:</p> <pre><code>from django.db import models\nfrom django_countries.fields import CountryField\n\nclass Person(models.Model):\n    name = models.CharField(max_length=100)\n    country = CountryField(\n        countries_flag_url=\"//flags.example.com/{code}.png\"\n    )\n</code></pre>"},{"location":"advanced/customization/#single-field-customization","title":"Single Field Customization","text":"<p>To customize an individual field rather than rely on project-level settings, create a <code>Countries</code> subclass which overrides settings.</p> <p>To override a setting, give the class an attribute matching the lowercased setting without the <code>COUNTRIES_</code> prefix.</p> <p>Then just reference this class in a field. For example, this <code>CountryField</code> uses a custom country list that only includes the G8 countries:</p> <pre><code>from django.db import models\nfrom django.utils.translation import gettext_lazy as _\nfrom django_countries import Countries\nfrom django_countries.fields import CountryField\n\nclass G8Countries(Countries):\n    only = [\n        \"CA\", \"FR\", \"DE\", \"IT\", \"JP\", \"RU\", \"GB\",\n        (\"EU\", _(\"European Union\"))\n    ]\n\nclass Vote(models.Model):\n    country = CountryField(countries=G8Countries)\n    approve = models.BooleanField()\n</code></pre>"},{"location":"advanced/customization/#available-settings-for-customization","title":"Available Settings for Customization","text":"<p>When creating a custom <code>Countries</code> subclass, you can override these settings (without the <code>COUNTRIES_</code> prefix):</p> <ul> <li><code>only</code> - Equivalent to <code>COUNTRIES_ONLY</code></li> <li><code>override</code> - Equivalent to <code>COUNTRIES_OVERRIDE</code></li> <li><code>first</code> - Equivalent to <code>COUNTRIES_FIRST</code></li> <li><code>first_repeat</code> - Equivalent to <code>COUNTRIES_FIRST_REPEAT</code></li> <li><code>first_sort</code> - Equivalent to <code>COUNTRIES_FIRST_SORT</code></li> <li><code>first_break</code> - Equivalent to <code>COUNTRIES_FIRST_BREAK</code></li> <li><code>flag_url</code> - Equivalent to <code>COUNTRIES_FLAG_URL</code></li> <li><code>common_names</code> - Equivalent to <code>COUNTRIES_COMMON_NAMES</code></li> </ul>"},{"location":"advanced/customization/#complex-dictionary-format","title":"Complex Dictionary Format","text":"<p>For <code>COUNTRIES_ONLY</code> and <code>COUNTRIES_OVERRIDE</code>, you can also provide a dictionary rather than just a translatable string for the country name.</p> <p>The options within the dictionary are:</p>"},{"location":"advanced/customization/#name-or-names-required","title":"name or names (required)","text":"<p>Either a single translatable name for this country or a list of multiple translatable names. If using multiple names, the first name takes preference when using <code>COUNTRIES_FIRST</code> or the <code>Country.name</code>.</p> <pre><code>COUNTRIES_OVERRIDE = {\n    \"US\": {\n        \"names\": [\n            _(\"United States of America\"),\n            _(\"USA\"),\n            _(\"America\"),\n        ],\n    },\n}\n</code></pre>"},{"location":"advanced/customization/#alpha3-optional","title":"alpha3 (optional)","text":"<p>An ISO 3166-1 three character code (or an empty string to nullify an existing code for this country):</p> <pre><code>COUNTRIES_OVERRIDE = {\n    \"XX\": {\n        \"names\": [_(\"Custom Country\")],\n        \"alpha3\": \"XXX\",\n    },\n}\n</code></pre>"},{"location":"advanced/customization/#numeric-optional","title":"numeric (optional)","text":"<p>An ISO 3166-1 numeric country code (or <code>None</code> to nullify an existing code for this country). The numeric codes 900 to 999 are left available by the standard for user-assignment:</p> <pre><code>COUNTRIES_OVERRIDE = {\n    \"XX\": {\n        \"names\": [_(\"Custom Country\")],\n        \"numeric\": 900,\n    },\n}\n</code></pre>"},{"location":"advanced/customization/#ioc_code-optional","title":"ioc_code (optional)","text":"<p>The country's International Olympic Committee code (or an empty string to nullify an existing code):</p> <pre><code>COUNTRIES_OVERRIDE = {\n    \"XX\": {\n        \"names\": [_(\"Custom Country\")],\n        \"ioc_code\": \"XXX\",\n    },\n}\n</code></pre>"},{"location":"advanced/customization/#complete-example","title":"Complete Example","text":"<pre><code>from django.utils.translation import gettext_lazy as _\n\nCOUNTRIES_OVERRIDE = {\n    \"NZ\": {\n        \"names\": [_(\"New Zealand\"), _(\"Aotearoa\")],\n        \"alpha3\": \"NZL\",\n        \"numeric\": 554,\n        \"ioc_code\": \"NZL\",\n    },\n    \"XX\": {\n        \"names\": [_(\"Custom Country\")],\n        \"alpha3\": \"XXX\",\n        \"numeric\": 900,\n        \"ioc_code\": \"\",\n    },\n}\n</code></pre>"},{"location":"advanced/customization/#country-object-external-plugins","title":"Country Object External Plugins","text":"<p>Other Python packages can add attributes to the <code>Country</code> object by using entry points in their setup script.</p> <p>For example, you could create a <code>django_countries_phone</code> package with the following entry point in the <code>setup.py</code> or <code>pyproject.toml</code> file. The entry point name (<code>phone</code>) will be the new attribute name on the Country object. The attribute value will be the return value of the <code>get_phone</code> function (called with the Country instance as the sole argument).</p>"},{"location":"advanced/customization/#setuppy-example","title":"setup.py Example","text":"<pre><code>setup(\n    ...\n    entry_points={\n        \"django_countries.Country\": \"phone = django_countries_phone.get_phone\"\n    },\n    ...\n)\n</code></pre>"},{"location":"advanced/customization/#pyprojecttoml-example","title":"pyproject.toml Example","text":"<pre><code>[project.entry-points.\"django_countries.Country\"]\nphone = \"django_countries_phone:get_phone\"\n</code></pre> <p>Then in your code:</p> <pre><code>&gt;&gt;&gt; from django_countries import countries\n&gt;&gt;&gt; country = countries['US']\n&gt;&gt;&gt; country.phone  # Calls get_phone(country)\n'+1'\n</code></pre>"},{"location":"advanced/customization/#see-also","title":"See Also","text":"<ul> <li>Settings Reference - Complete list of all settings</li> <li>CountryField Reference - Learn about the country field</li> <li>Multiple Countries - Handle multiple country selection</li> </ul>"},{"location":"advanced/multiple/","title":"Multiple Country Selection","text":""},{"location":"advanced/multiple/#overview","title":"Overview","text":"<p>The <code>CountryField</code> can allow multiple selections of countries, which are saved as a comma-separated string. The field will always output a list of countries in this mode.</p>"},{"location":"advanced/multiple/#basic-usage","title":"Basic Usage","text":"<pre><code>from django.db import models\nfrom django_countries.fields import CountryField\n\nclass Incident(models.Model):\n    title = models.CharField(max_length=100)\n    countries = CountryField(multiple=True)\n</code></pre>"},{"location":"advanced/multiple/#working-with-multiple-countries","title":"Working with Multiple Countries","text":"<p>When you access the field, it returns a list of <code>Country</code> objects:</p> <pre><code>&gt;&gt;&gt; incident = Incident.objects.get(title=\"Pavlova dispute\")\n&gt;&gt;&gt; for country in incident.countries:\n...     print(country.name)\nAustralia\nNew Zealand\n</code></pre>"},{"location":"advanced/multiple/#data-storage-behavior","title":"Data Storage Behavior","text":"<p>By default, countries are stored with the following behaviors:</p> <ul> <li>Sorted: Countries are stored in a consistent sorted order for data consistency</li> <li>Unique: Duplicate countries are automatically removed</li> </ul>"},{"location":"advanced/multiple/#customizing-storage-behavior","title":"Customizing Storage Behavior","text":"<p>You can override these default behaviors using field arguments:</p>"},{"location":"advanced/multiple/#disable-sorting","title":"Disable Sorting","text":"<p>To store countries in the order they were added rather than sorted:</p> <pre><code>countries = CountryField(multiple=True, multiple_sort=False)\n</code></pre>"},{"location":"advanced/multiple/#allow-duplicates","title":"Allow Duplicates","text":"<p>To allow duplicate country codes:</p> <pre><code>countries = CountryField(multiple=True, multiple_unique=False)\n</code></pre>"},{"location":"advanced/multiple/#combine-both","title":"Combine Both","text":"<p>You can combine both options:</p> <pre><code>countries = CountryField(\n    multiple=True,\n    multiple_sort=False,\n    multiple_unique=False\n)\n</code></pre>"},{"location":"advanced/multiple/#forms-and-widgets","title":"Forms and Widgets","text":"<p>In forms, multiple country fields render as a multi-select dropdown by default. Users can select multiple countries using Ctrl/Cmd+Click or Shift+Click.</p> <pre><code>from django import forms\nfrom myapp.models import Incident\n\nclass IncidentForm(forms.ModelForm):\n    class Meta:\n        model = Incident\n        fields = ['title', 'countries']\n</code></pre>"},{"location":"advanced/multiple/#querying","title":"Querying","text":"<p>You can query multiple country fields just like regular CountryFields:</p> <pre><code># Find incidents involving New Zealand\n&gt;&gt;&gt; Incident.objects.filter(countries__contains='NZ')\n\n# Find incidents involving Australia\n&gt;&gt;&gt; Incident.objects.filter(countries__name='Australia')\n</code></pre> <p>Note that the contains lookup matches the country code within the comma-separated string.</p>"},{"location":"advanced/multiple/#example-use-cases","title":"Example Use Cases","text":"<p>Multiple country selection is useful for scenarios like:</p> <ul> <li>International incidents spanning multiple countries</li> <li>User profiles where users have lived in multiple countries</li> <li>Product availability across multiple markets</li> <li>Travel itineraries visiting multiple destinations</li> <li>Business operations in multiple regions</li> </ul>"},{"location":"advanced/multiple/#see-also","title":"See Also","text":"<ul> <li>CountryField Reference - Learn about single country fields</li> <li>Forms &amp; Widgets - Customize form rendering</li> <li>Querying - Advanced query techniques</li> </ul>"},{"location":"integrations/drf/","title":"Django REST Framework Integration","text":"<p>Django Countries provides full integration with Django REST Framework (DRF) for serializing country fields.</p>"},{"location":"integrations/drf/#countryfieldmixin","title":"CountryFieldMixin","text":"<p>The <code>CountryFieldMixin</code> makes the <code>CountryField</code> model field compatible with DRF serializers. Use this mixin with your model serializer:</p> <pre><code>from django_countries.serializers import CountryFieldMixin\nfrom rest_framework import serializers\nfrom myapp import models\n\nclass PersonSerializer(CountryFieldMixin, serializers.ModelSerializer):\n    class Meta:\n        model = models.Person\n        fields = (\"name\", \"email\", \"country\")\n</code></pre> <p>This mixin handles both standard and multi-choice country fields automatically.</p>"},{"location":"integrations/drf/#countryfield-serializer-field","title":"CountryField Serializer Field","text":"<p>For lower level use (or when not dealing with model fields), you can use the included <code>CountryField</code> serializer field:</p> <pre><code>from django_countries.serializer_fields import CountryField\nfrom rest_framework import serializers\n\nclass PersonSerializer(serializers.Serializer):\n    name = serializers.CharField()\n    country = CountryField()\n</code></pre>"},{"location":"integrations/drf/#custom-countries-instance","title":"Custom Countries Instance","text":"<p>You can optionally instantiate the field with the <code>countries</code> argument to specify a custom <code>Countries</code> instance:</p> <pre><code>from django_countries import Countries\nfrom django_countries.serializer_fields import CountryField\nfrom rest_framework import serializers\n\nclass EUCountries(Countries):\n    only = [\"AT\", \"BE\", \"BG\", \"HR\", \"CY\", \"CZ\", \"DK\", \"EE\", \"FI\", \"FR\",\n            \"DE\", \"GR\", \"HU\", \"IE\", \"IT\", \"LV\", \"LT\", \"LU\", \"MT\", \"NL\",\n            \"PL\", \"PT\", \"RO\", \"SK\", \"SI\", \"ES\", \"SE\"]\n\nclass ProductSerializer(serializers.Serializer):\n    name = serializers.CharField()\n    country = CountryField(countries=EUCountries)\n</code></pre>"},{"location":"integrations/drf/#rest-output-format","title":"REST Output Format","text":""},{"location":"integrations/drf/#default-country-code","title":"Default: Country Code","text":"<p>By default, the field will output just the country code:</p> <pre><code>class PersonSerializer(serializers.Serializer):\n    country = CountryField()\n</code></pre> <pre><code>{\n  \"country\": \"NZ\"\n}\n</code></pre>"},{"location":"integrations/drf/#name-only","title":"Name Only","text":"<p>To output the full country name instead, instantiate the field with <code>name_only=True</code>:</p> <pre><code>from django_countries.serializer_fields import CountryField\nfrom rest_framework import serializers\n\nclass PersonSerializer(serializers.Serializer):\n    country = CountryField(name_only=True)\n</code></pre> <pre><code>{\n  \"country\": \"New Zealand\"\n}\n</code></pre>"},{"location":"integrations/drf/#verbose-dictionary","title":"Verbose Dictionary","text":"<p>For more verbose output, instantiate the field with <code>country_dict=True</code>:</p> <pre><code>from django_countries.serializer_fields import CountryField\nfrom rest_framework import serializers\n\nclass PersonSerializer(serializers.Serializer):\n    country = CountryField(country_dict=True)\n</code></pre> <p>This results in the following output structure:</p> <pre><code>{\n  \"country\": {\n    \"code\": \"NZ\",\n    \"name\": \"New Zealand\"\n  }\n}\n</code></pre>"},{"location":"integrations/drf/#input-acceptance","title":"Input Acceptance","text":"<p>Regardless of the <code>country_dict</code> argument's value, both the country code string and the verbose dictionary structure are acceptable as input:</p> <pre><code># Both of these are valid input\n{\"country\": \"NZ\"}\n{\"country\": {\"code\": \"NZ\", \"name\": \"New Zealand\"}}\n</code></pre>"},{"location":"integrations/drf/#options-request","title":"OPTIONS Request","text":"<p>When you request OPTIONS against a resource (using the DRF metadata support), the countries will be returned in the response as choices:</p>"},{"location":"integrations/drf/#request","title":"Request","text":"<pre><code>OPTIONS /api/person/ HTTP/1.1\n</code></pre>"},{"location":"integrations/drf/#response","title":"Response","text":"<pre><code>HTTP/1.1 200 OK\nContent-Type: application/json\nAllow: GET, POST, HEAD, OPTIONS\n</code></pre> <pre><code>{\n  \"actions\": {\n    \"POST\": {\n      \"country\": {\n        \"type\": \"choice\",\n        \"label\": \"Country\",\n        \"choices\": [\n          {\n            \"display_name\": \"Afghanistan\",\n            \"value\": \"AF\"\n          },\n          {\n            \"display_name\": \"\u00c5land Islands\",\n            \"value\": \"AX\"\n          },\n          {\n            \"display_name\": \"Albania\",\n            \"value\": \"AL\"\n          }\n        ]\n      }\n    }\n  }\n}\n</code></pre> <p>This makes it easy to build dynamic forms in client applications.</p>"},{"location":"integrations/drf/#complete-example","title":"Complete Example","text":"<p>Here's a complete example showing a model, serializer, and viewset:</p>"},{"location":"integrations/drf/#models","title":"Models","text":"<pre><code>from django.db import models\nfrom django_countries.fields import CountryField\n\nclass Person(models.Model):\n    name = models.CharField(max_length=100)\n    email = models.EmailField()\n    country = CountryField()\n\nclass Company(models.Model):\n    name = models.CharField(max_length=200)\n    countries = CountryField(multiple=True)\n</code></pre>"},{"location":"integrations/drf/#serializers","title":"Serializers","text":"<pre><code>from django_countries.serializers import CountryFieldMixin\nfrom rest_framework import serializers\nfrom myapp.models import Person, Company\n\nclass PersonSerializer(CountryFieldMixin, serializers.ModelSerializer):\n    class Meta:\n        model = Person\n        fields = (\"id\", \"name\", \"email\", \"country\")\n\nclass CompanySerializer(CountryFieldMixin, serializers.ModelSerializer):\n    class Meta:\n        model = Company\n        fields = (\"id\", \"name\", \"countries\")\n</code></pre>"},{"location":"integrations/drf/#views","title":"Views","text":"<pre><code>from rest_framework import viewsets\nfrom myapp.models import Person, Company\nfrom myapp.serializers import PersonSerializer, CompanySerializer\n\nclass PersonViewSet(viewsets.ModelViewSet):\n    queryset = Person.objects.all()\n    serializer_class = PersonSerializer\n\nclass CompanyViewSet(viewsets.ModelViewSet):\n    queryset = Company.objects.all()\n    serializer_class = CompanySerializer\n</code></pre>"},{"location":"integrations/drf/#urls","title":"URLs","text":"<pre><code>from django.urls import path, include\nfrom rest_framework.routers import DefaultRouter\nfrom myapp.views import PersonViewSet, CompanyViewSet\n\nrouter = DefaultRouter()\nrouter.register(r'persons', PersonViewSet)\nrouter.register(r'companies', CompanyViewSet)\n\nurlpatterns = [\n    path('api/', include(router.urls)),\n]\n</code></pre>"},{"location":"integrations/drf/#see-also","title":"See Also","text":"<ul> <li>CountryField Reference - Learn about the country field</li> <li>Multiple Countries - Handle multiple country selection</li> <li>Customization - Customize country lists</li> <li>GraphQL Integration - Use with GraphQL</li> </ul>"},{"location":"integrations/graphql/","title":"GraphQL Integration","text":"<p>Django Countries includes support for GraphQL through graphene-django, providing a <code>Country</code> object type for use in your GraphQL schema.</p>"},{"location":"integrations/graphql/#installation","title":"Installation","text":"<p>Make sure you have graphene-django installed:</p> <pre><code>pip install graphene-django\n</code></pre>"},{"location":"integrations/graphql/#country-object-type","title":"Country Object Type","text":"<p>A <code>Country</code> graphene object type is included that can be used when generating your schema.</p>"},{"location":"integrations/graphql/#basic-usage","title":"Basic Usage","text":"<pre><code>import graphene\nfrom graphene_django.types import DjangoObjectType\nfrom django_countries.graphql.types import Country\nfrom myapp import models\n\nclass PersonType(DjangoObjectType):\n    country = graphene.Field(Country)\n\n    class Meta:\n        model = models.Person\n        fields = [\"name\", \"country\"]\n</code></pre>"},{"location":"integrations/graphql/#available-fields","title":"Available Fields","text":"<p>The <code>Country</code> object type has the following fields available:</p>"},{"location":"integrations/graphql/#name","title":"name","text":"<p>The full country name.</p> <pre><code>{\n  person {\n    country {\n      name\n    }\n  }\n}\n</code></pre> <p>Response: <pre><code>{\n  \"person\": {\n    \"country\": {\n      \"name\": \"New Zealand\"\n    }\n  }\n}\n</code></pre></p>"},{"location":"integrations/graphql/#code","title":"code","text":"<p>The ISO 3166-1 two character country code.</p> <pre><code>{\n  person {\n    country {\n      code\n    }\n  }\n}\n</code></pre> <p>Response: <pre><code>{\n  \"person\": {\n    \"country\": {\n      \"code\": \"NZ\"\n    }\n  }\n}\n</code></pre></p>"},{"location":"integrations/graphql/#alpha3","title":"alpha3","text":"<p>The ISO 3166-1 three character country code.</p> <pre><code>{\n  person {\n    country {\n      alpha3\n    }\n  }\n}\n</code></pre> <p>Response: <pre><code>{\n  \"person\": {\n    \"country\": {\n      \"alpha3\": \"NZL\"\n    }\n  }\n}\n</code></pre></p>"},{"location":"integrations/graphql/#numeric","title":"numeric","text":"<p>The ISO 3166-1 numeric country code.</p> <pre><code>{\n  person {\n    country {\n      numeric\n    }\n  }\n}\n</code></pre> <p>Response: <pre><code>{\n  \"person\": {\n    \"country\": {\n      \"numeric\": 554\n    }\n  }\n}\n</code></pre></p>"},{"location":"integrations/graphql/#ioccode","title":"iocCode","text":"<p>The International Olympic Committee country code.</p> <pre><code>{\n  person {\n    country {\n      iocCode\n    }\n  }\n}\n</code></pre> <p>Response: <pre><code>{\n  \"person\": {\n    \"country\": {\n      \"iocCode\": \"NZL\"\n    }\n  }\n}\n</code></pre></p>"},{"location":"integrations/graphql/#complete-example","title":"Complete Example","text":"<p>Here's a complete example showing a model, object type, query, and schema:</p>"},{"location":"integrations/graphql/#model","title":"Model","text":"<pre><code>from django.db import models\nfrom django_countries.fields import CountryField\n\nclass Person(models.Model):\n    name = models.CharField(max_length=100)\n    email = models.EmailField()\n    country = CountryField()\n\nclass Company(models.Model):\n    name = models.CharField(max_length=200)\n    countries = CountryField(multiple=True)\n</code></pre>"},{"location":"integrations/graphql/#object-types","title":"Object Types","text":"<pre><code>import graphene\nfrom graphene_django import DjangoObjectType\nfrom django_countries.graphql.types import Country\nfrom myapp.models import Person, Company\n\nclass PersonType(DjangoObjectType):\n    country = graphene.Field(Country)\n\n    class Meta:\n        model = Person\n        fields = [\"id\", \"name\", \"email\", \"country\"]\n\nclass CompanyType(DjangoObjectType):\n    countries = graphene.List(Country)\n\n    class Meta:\n        model = Company\n        fields = [\"id\", \"name\", \"countries\"]\n</code></pre>"},{"location":"integrations/graphql/#queries","title":"Queries","text":"<pre><code>import graphene\nfrom myapp.models import Person, Company\nfrom myapp.types import PersonType, CompanyType\n\nclass Query(graphene.ObjectType):\n    person = graphene.Field(PersonType, id=graphene.Int(required=True))\n    people = graphene.List(PersonType)\n    company = graphene.Field(CompanyType, id=graphene.Int(required=True))\n    companies = graphene.List(CompanyType)\n\n    def resolve_person(self, info, id):\n        return Person.objects.get(pk=id)\n\n    def resolve_people(self, info):\n        return Person.objects.all()\n\n    def resolve_company(self, info, id):\n        return Company.objects.get(pk=id)\n\n    def resolve_companies(self, info):\n        return Company.objects.all()\n</code></pre>"},{"location":"integrations/graphql/#schema","title":"Schema","text":"<pre><code>import graphene\nfrom myapp.queries import Query\n\nschema = graphene.Schema(query=Query)\n</code></pre>"},{"location":"integrations/graphql/#example-queries","title":"Example Queries","text":""},{"location":"integrations/graphql/#get-person-with-full-country-details","title":"Get Person with Full Country Details","text":"<pre><code>query {\n  person(id: 1) {\n    name\n    email\n    country {\n      code\n      name\n      alpha3\n      numeric\n      iocCode\n    }\n  }\n}\n</code></pre> <p>Response: <pre><code>{\n  \"data\": {\n    \"person\": {\n      \"name\": \"Chris\",\n      \"email\": \"chris@example.com\",\n      \"country\": {\n        \"code\": \"NZ\",\n        \"name\": \"New Zealand\",\n        \"alpha3\": \"NZL\",\n        \"numeric\": 554,\n        \"iocCode\": \"NZL\"\n      }\n    }\n  }\n}\n</code></pre></p>"},{"location":"integrations/graphql/#get-all-people-with-country-names","title":"Get All People with Country Names","text":"<pre><code>query {\n  people {\n    name\n    country {\n      name\n    }\n  }\n}\n</code></pre> <p>Response: <pre><code>{\n  \"data\": {\n    \"people\": [\n      {\n        \"name\": \"Chris\",\n        \"country\": {\n          \"name\": \"New Zealand\"\n        }\n      },\n      {\n        \"name\": \"Jane\",\n        \"country\": {\n          \"name\": \"Australia\"\n        }\n      }\n    ]\n  }\n}\n</code></pre></p>"},{"location":"integrations/graphql/#get-company-with-multiple-countries","title":"Get Company with Multiple Countries","text":"<pre><code>query {\n  company(id: 1) {\n    name\n    countries {\n      code\n      name\n    }\n  }\n}\n</code></pre> <p>Response: <pre><code>{\n  \"data\": {\n    \"company\": {\n      \"name\": \"Global Corp\",\n      \"countries\": [\n        {\n          \"code\": \"US\",\n          \"name\": \"United States\"\n        },\n        {\n          \"code\": \"GB\",\n          \"name\": \"United Kingdom\"\n        },\n        {\n          \"code\": \"AU\",\n          \"name\": \"Australia\"\n        }\n      ]\n    }\n  }\n}\n</code></pre></p>"},{"location":"integrations/graphql/#mutations","title":"Mutations","text":"<p>You can also use countries in mutations:</p> <pre><code>import graphene\nfrom myapp.models import Person\nfrom myapp.types import PersonType\n\nclass CreatePerson(graphene.Mutation):\n    class Arguments:\n        name = graphene.String(required=True)\n        email = graphene.String(required=True)\n        country_code = graphene.String(required=True)\n\n    person = graphene.Field(PersonType)\n\n    def mutate(self, info, name, email, country_code):\n        person = Person.objects.create(\n            name=name,\n            email=email,\n            country=country_code\n        )\n        return CreatePerson(person=person)\n\nclass Mutation(graphene.ObjectType):\n    create_person = CreatePerson.Field()\n\nschema = graphene.Schema(query=Query, mutation=Mutation)\n</code></pre> <p>Example mutation:</p> <pre><code>mutation {\n  createPerson(name: \"John\", email: \"john@example.com\", countryCode: \"US\") {\n    person {\n      id\n      name\n      country {\n        code\n        name\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"integrations/graphql/#see-also","title":"See Also","text":"<ul> <li>CountryField Reference - Learn about the country field</li> <li>Multiple Countries - Handle multiple country selection</li> <li>Django REST Framework - DRF integration</li> </ul>"},{"location":"usage/field/","title":"CountryField Reference","text":""},{"location":"usage/field/#overview","title":"Overview","text":"<p>A country field for Django models that provides all ISO 3166-1 countries as choices.</p> <p><code>CountryField</code> is based on Django's <code>CharField</code>, providing choices corresponding to the official ISO 3166-1 list of countries (with a default <code>max_length</code> of 2).</p>"},{"location":"usage/field/#basic-usage","title":"Basic Usage","text":"<p>Consider the following model using a <code>CountryField</code>:</p> <pre><code>from django.db import models\nfrom django_countries.fields import CountryField\n\nclass Person(models.Model):\n    name = models.CharField(max_length=100)\n    country = CountryField()\n</code></pre> <p>Any <code>Person</code> instance will have a <code>country</code> attribute that you can use to get details of the person's country:</p> <pre><code>&gt;&gt;&gt; person = Person(name=\"Chris\", country=\"NZ\")\n&gt;&gt;&gt; person.country\nCountry(code='NZ')\n&gt;&gt;&gt; person.country.name\n'New Zealand'\n&gt;&gt;&gt; person.country.flag\n'/static/flags/nz.gif'\n</code></pre>"},{"location":"usage/field/#field-options","title":"Field Options","text":""},{"location":"usage/field/#blank_label","title":"blank_label","text":"<p>Use <code>blank_label</code> to set the label for the initial blank choice shown in forms:</p> <pre><code>country = CountryField(blank_label=\"(select country)\")\n</code></pre>"},{"location":"usage/field/#querying","title":"Querying","text":"<p>You can filter using the full English country names in addition to country codes, even though only the country codes are stored in the database by using the queryset lookups <code>contains</code>, <code>startswith</code>, <code>endswith</code>, <code>regex</code>, or their case insensitive versions. Use <code>__name</code> or <code>__iname</code> for the <code>exact</code>/<code>iexact</code> equivalent:</p> <pre><code>&gt;&gt;&gt; Person.objects.filter(country__name=\"New Zealand\").count()\n1\n&gt;&gt;&gt; Person.objects.filter(country__icontains=\"zealand\").count()\n1\n</code></pre>"},{"location":"usage/field/#the-country-object","title":"The Country Object","text":"<p>An object used to represent a country, instantiated with a two character country code, three character code, or numeric code.</p> <p>It can be compared to other objects as if it was a string containing the country code and when evaluated as text, returns the country code.</p>"},{"location":"usage/field/#properties","title":"Properties","text":""},{"location":"usage/field/#name","title":"name","text":"<p>Contains the full country name.</p> <pre><code>&gt;&gt;&gt; person.country.name\n'New Zealand'\n</code></pre>"},{"location":"usage/field/#flag","title":"flag","text":"<p>Contains a URL to the flag. If your page could have lots of different flags then consider using <code>flag_css</code> instead to avoid excessive HTTP requests.</p> <pre><code>&gt;&gt;&gt; person.country.flag\n'/static/flags/nz.gif'\n</code></pre>"},{"location":"usage/field/#flag_css","title":"flag_css","text":"<p>Output the css classes needed to display an HTML element as the correct flag from within a single sprite image that contains all flags. For example:</p> <pre><code>&lt;link rel=\"stylesheet\" href=\"{% static 'flags/sprite.css' %}\"&gt;\n&lt;i class=\"{{ country.flag_css }}\"&gt;&lt;/i&gt;\n</code></pre> <p>For multiple flag resolutions, use <code>sprite-hq.css</code> instead and add the <code>flag2x</code>, <code>flag3x</code>, or <code>flag4x</code> class. For example:</p> <pre><code>&lt;link rel=\"stylesheet\" href=\"{% static 'flags/sprite-hq.css' %}\"&gt;\nNormal: &lt;i class=\"{{ country.flag_css }}\"&gt;&lt;/i&gt;\nBigger: &lt;i class=\"flag2x {{ country.flag_css }}\"&gt;&lt;/i&gt;\n</code></pre> <p>You might also want to consider using <code>aria-label</code> for better accessibility:</p> <pre><code>&lt;i class=\"{{ country.flag_css }}\"\n    aria-label=\"{% blocktrans with country_code=country.code %}\n        {{ country_code }} flag\n    {% endblocktrans %}\"&gt;&lt;/i&gt;\n</code></pre>"},{"location":"usage/field/#unicode_flag","title":"unicode_flag","text":"<p>A unicode glyph for the flag for this country. Currently well-supported in iOS and OS X. See Regional Indicator Symbol for details.</p> <pre><code>&gt;&gt;&gt; person.country.unicode_flag\n'\ud83c\uddf3\ud83c\uddff'\n</code></pre>"},{"location":"usage/field/#code","title":"code","text":"<p>The two letter country code for this country.</p> <pre><code>&gt;&gt;&gt; person.country.code\n'NZ'\n</code></pre>"},{"location":"usage/field/#alpha3","title":"alpha3","text":"<p>The three letter country code for this country.</p> <pre><code>&gt;&gt;&gt; person.country.alpha3\n'NZL'\n</code></pre>"},{"location":"usage/field/#numeric","title":"numeric","text":"<p>The numeric country code for this country (as an integer).</p> <pre><code>&gt;&gt;&gt; person.country.numeric\n554\n</code></pre>"},{"location":"usage/field/#numeric_padded","title":"numeric_padded","text":"<p>The numeric country code as a three character 0-padded string.</p> <pre><code>&gt;&gt;&gt; person.country.numeric_padded\n'554'\n</code></pre>"},{"location":"usage/field/#ioc_code","title":"ioc_code","text":"<p>The three letter International Olympic Committee country code.</p> <pre><code>&gt;&gt;&gt; person.country.ioc_code\n'NZL'\n</code></pre>"},{"location":"usage/field/#getting-countries-from-python","title":"Getting Countries from Python","text":"<p>Use the <code>django_countries.countries</code> object instance as an iterator of ISO 3166-1 country codes and names (sorted by name).</p> <p>For example:</p> <pre><code>&gt;&gt;&gt; from django_countries import countries\n&gt;&gt;&gt; dict(countries)[\"NZ\"]\n'New Zealand'\n\n&gt;&gt;&gt; for code, name in list(countries)[:3]:\n...     print(f\"{name} ({code})\")\n...\nAfghanistan (AF)\n\u00c5land Islands (AX)\nAlbania (AL)\n</code></pre>"},{"location":"usage/field/#see-also","title":"See Also","text":"<ul> <li>Multiple Countries - Select multiple countries in a single field</li> <li>Customization - Customize the country list</li> <li>Settings - Configure country field behavior</li> </ul>"},{"location":"usage/forms/","title":"Forms &amp; Widgets","text":""},{"location":"usage/forms/#countryselectwidget","title":"CountrySelectWidget","text":"<p>A widget is included that can show the flag image after the select box (updated with JavaScript when the selection changes).</p>"},{"location":"usage/forms/#basic-usage","title":"Basic Usage","text":"<p>When you create your form, you can use this custom widget like normal:</p> <pre><code>from django import forms\nfrom django_countries.widgets import CountrySelectWidget\nfrom myapp import models\n\nclass PersonForm(forms.ModelForm):\n    class Meta:\n        model = models.Person\n        fields = (\"name\", \"country\")\n        widgets = {\"country\": CountrySelectWidget()}\n</code></pre>"},{"location":"usage/forms/#customizing-the-layout","title":"Customizing the Layout","text":"<p>Pass a <code>layout</code> text argument to the widget to change the positioning of the flag and widget. The default layout is:</p> <pre><code>'{widget}&lt;img class=\"country-select-flag\" id=\"{flag_id}\" style=\"margin: 6px 4px 0\" src=\"{country.flag}\"&gt;'\n</code></pre> <p>You can customize it like this:</p> <pre><code>from django_countries.widgets import CountrySelectWidget\n\nclass PersonForm(forms.ModelForm):\n    class Meta:\n        model = models.Person\n        fields = (\"name\", \"country\")\n        widgets = {\n            \"country\": CountrySelectWidget(\n                layout='&lt;div&gt;{widget}&lt;/div&gt;&lt;div&gt;&lt;img src=\"{country.flag}\"&gt;&lt;/div&gt;'\n            )\n        }\n</code></pre>"},{"location":"usage/forms/#custom-forms","title":"Custom Forms","text":"<p>If you want to use the countries in a custom form (not a ModelForm), use the model field's custom form field to ensure the translatable strings for the country choices are left lazy until the widget renders:</p> <pre><code>from django import forms\nfrom django_countries.fields import CountryField\n\nclass CustomForm(forms.Form):\n    country = CountryField().formfield()\n</code></pre>"},{"location":"usage/forms/#non-required-fields","title":"Non-Required Fields","text":"<p>Use <code>CountryField(blank=True)</code> for non-required form fields:</p> <pre><code>class CustomForm(forms.Form):\n    country = CountryField(blank=True).formfield()\n</code></pre>"},{"location":"usage/forms/#custom-blank-label","title":"Custom Blank Label","text":"<p>Use <code>blank_label</code> to customize the label for the initial blank option:</p> <pre><code>class CustomForm(forms.Form):\n    country = CountryField(blank_label=\"(Select country)\").formfield()\n</code></pre>"},{"location":"usage/forms/#using-countryselectwidget-in-custom-forms","title":"Using CountrySelectWidget in Custom Forms","text":"<p>You can also use the CountrySelectWidget as the widget for this field if you want the flag image after the select box:</p> <pre><code>from django import forms\nfrom django_countries.fields import CountryField\nfrom django_countries.widgets import CountrySelectWidget\n\nclass CustomForm(forms.Form):\n    country = CountryField().formfield(widget=CountrySelectWidget())\n</code></pre>"},{"location":"usage/forms/#examples","title":"Examples","text":""},{"location":"usage/forms/#basic-modelform","title":"Basic ModelForm","text":"<pre><code>from django import forms\nfrom myapp.models import Person\n\nclass PersonForm(forms.ModelForm):\n    class Meta:\n        model = Person\n        fields = ['name', 'country']\n</code></pre> <p>This will automatically use the appropriate form field for the CountryField.</p>"},{"location":"usage/forms/#modelform-with-custom-widget","title":"ModelForm with Custom Widget","text":"<pre><code>from django import forms\nfrom django_countries.widgets import CountrySelectWidget\nfrom myapp.models import Person\n\nclass PersonForm(forms.ModelForm):\n    class Meta:\n        model = Person\n        fields = ['name', 'country']\n        widgets = {\n            'country': CountrySelectWidget()\n        }\n</code></pre>"},{"location":"usage/forms/#standalone-form","title":"Standalone Form","text":"<pre><code>from django import forms\nfrom django_countries.fields import CountryField\nfrom django_countries.widgets import CountrySelectWidget\n\nclass RegistrationForm(forms.Form):\n    name = forms.CharField(max_length=100)\n    email = forms.EmailField()\n    country = CountryField().formfield(\n        required=True,\n        widget=CountrySelectWidget()\n    )\n</code></pre>"},{"location":"usage/forms/#see-also","title":"See Also","text":"<ul> <li>CountryField Reference - Learn about the country field</li> <li>Multiple Countries - Handle multiple country selection</li> <li>Customization - Customize country lists per field</li> </ul>"},{"location":"usage/settings/","title":"Settings Reference","text":"<p>This page documents all available Django settings for configuring django-countries.</p> <p>All settings are optional and have sensible defaults. Add them to your Django project's <code>settings.py</code> file to customize behavior.</p>"},{"location":"usage/settings/#country-list-settings","title":"Country List Settings","text":""},{"location":"usage/settings/#countries_common_names","title":"COUNTRIES_COMMON_NAMES","text":"<p>Type: <code>bool</code> Default: <code>True</code></p> <p>Controls whether to use common/friendly country names instead of official ISO 3166-1 names.</p> <p>When <code>True</code>, uses friendlier names like \"Bolivia\" instead of \"Bolivia, Plurinational State of\".</p> <pre><code># Use official ISO 3166-1 names\nCOUNTRIES_COMMON_NAMES = False\n</code></pre>"},{"location":"usage/settings/#countries_only","title":"COUNTRIES_ONLY","text":"<p>Type: <code>list</code> Default: <code>None</code> (all countries)</p> <p>Limits the available countries to a specific list. Can be a list of country codes, tuples of <code>(code, name)</code>, or dictionaries.</p> <pre><code># Simple list of codes\nCOUNTRIES_ONLY = [\"US\", \"CA\", \"MX\"]\n\n# With custom names\nfrom django.utils.translation import gettext_lazy as _\n\nCOUNTRIES_ONLY = [\n    \"US\",\n    \"GB\",\n    (\"NZ\", _(\"Middle Earth\")),\n    (\"AU\", _(\"Desert\")),\n]\n</code></pre> <p>See Customization for more details.</p>"},{"location":"usage/settings/#countries_override","title":"COUNTRIES_OVERRIDE","text":"<p>Type: <code>dict</code> Default: <code>{}</code></p> <p>Override names or metadata for specific countries. Set a country to <code>None</code> to exclude it from the list.</p> <pre><code>from django.utils.translation import gettext_lazy as _\n\nCOUNTRIES_OVERRIDE = {\n    \"NZ\": _(\"Middle Earth\"),\n    \"AU\": None,  # Exclude Australia\n    \"US\": {\n        \"names\": [\n            _(\"United States of America\"),\n            _(\"USA\"),\n        ],\n    },\n}\n</code></pre> <p>See Customization for more details.</p>"},{"location":"usage/settings/#display-order-settings","title":"Display Order Settings","text":""},{"location":"usage/settings/#countries_first","title":"COUNTRIES_FIRST","text":"<p>Type: <code>list</code> Default: <code>None</code></p> <p>List of country codes to show at the beginning of the country list, before the alphabetically sorted countries.</p> <pre><code># Show US, UK, and Canada first\nCOUNTRIES_FIRST = [\"US\", \"GB\", \"CA\"]\n</code></pre>"},{"location":"usage/settings/#countries_first_sort","title":"COUNTRIES_FIRST_SORT","text":"<p>Type: <code>bool</code> Default: <code>False</code></p> <p>Whether to sort the countries specified in <code>COUNTRIES_FIRST</code> alphabetically.</p> <pre><code>COUNTRIES_FIRST = [\"US\", \"GB\", \"CA\"]\nCOUNTRIES_FIRST_SORT = True  # Will display as: CA, GB, US\n</code></pre>"},{"location":"usage/settings/#countries_first_repeat","title":"COUNTRIES_FIRST_REPEAT","text":"<p>Type: <code>bool</code> Default: <code>False</code></p> <p>Whether to repeat the \"first\" countries in the main alphabetically sorted list.</p> <pre><code>COUNTRIES_FIRST = [\"US\", \"GB\", \"CA\"]\nCOUNTRIES_FIRST_REPEAT = True  # Countries appear both at top and in main list\n</code></pre>"},{"location":"usage/settings/#countries_first_break","title":"COUNTRIES_FIRST_BREAK","text":"<p>Type: <code>str</code> Default: <code>None</code></p> <p>Label for an empty separator choice between \"first\" countries and the main list.</p> <pre><code>COUNTRIES_FIRST = [\"US\", \"GB\", \"CA\"]\nCOUNTRIES_FIRST_BREAK = \"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\"  # Adds visual separator\n</code></pre>"},{"location":"usage/settings/#flag-settings","title":"Flag Settings","text":""},{"location":"usage/settings/#countries_flag_url","title":"COUNTRIES_FLAG_URL","text":"<p>Type: <code>str</code> Default: <code>\"flags/{code}.gif\"</code></p> <p>Template string for flag image URLs. Can be relative to <code>STATIC_URL</code> or an absolute URL.</p> <p>Available placeholders: - <code>{code}</code> - lowercase country code - <code>{code_upper}</code> - uppercase country code</p> <pre><code># Use PNG flags in a subdirectory\nCOUNTRIES_FLAG_URL = \"flags/16x10/{code_upper}.png\"\n\n# Use absolute URL\nCOUNTRIES_FLAG_URL = \"https://cdn.example.com/flags/{code}.svg\"\n</code></pre> <p>Note</p> <p>No validation is performed to ensure flag files exist.</p>"},{"location":"usage/settings/#complete-example","title":"Complete Example","text":"<p>Here's a complete example showing multiple settings working together:</p> <pre><code>from django.utils.translation import gettext_lazy as _\n\n# Use common names\nCOUNTRIES_COMMON_NAMES = True\n\n# Limit to North American countries\nCOUNTRIES_ONLY = [\"US\", \"CA\", \"MX\"]\n\n# Show US first\nCOUNTRIES_FIRST = [\"US\"]\nCOUNTRIES_FIRST_BREAK = \"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\"\n\n# Custom flag location\nCOUNTRIES_FLAG_URL = \"images/flags/{code_upper}.png\"\n\n# Override US display\nCOUNTRIES_OVERRIDE = {\n    \"US\": {\n        \"names\": [_(\"United States\"), _(\"USA\")],\n    },\n}\n</code></pre>"},{"location":"usage/settings/#per-field-settings","title":"Per-Field Settings","text":"<p>Instead of project-wide settings, you can customize individual fields by creating a custom <code>Countries</code> class:</p> <pre><code>from django.utils.translation import gettext_lazy as _\nfrom django_countries import Countries\nfrom django_countries.fields import CountryField\n\nclass EUCountries(Countries):\n    only = [\n        \"AT\", \"BE\", \"BG\", \"HR\", \"CY\", \"CZ\", \"DK\", \"EE\", \"FI\", \"FR\",\n        \"DE\", \"GR\", \"HU\", \"IE\", \"IT\", \"LV\", \"LT\", \"LU\", \"MT\", \"NL\",\n        \"PL\", \"PT\", \"RO\", \"SK\", \"SI\", \"ES\", \"SE\",\n    ]\n    first = [\"DE\", \"FR\", \"IT\"]\n    first_break = \"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\"\n\nclass Product(models.Model):\n    name = models.CharField(max_length=100)\n    country = CountryField(countries=EUCountries)\n</code></pre> <p>See Single Field Customization for more details.</p>"},{"location":"usage/settings/#see-also","title":"See Also","text":"<ul> <li>Customization Guide - Detailed customization examples</li> <li>CountryField Reference - Learn about the country field</li> <li>Forms &amp; Widgets - Use countries in forms</li> </ul>"},{"location":"usage/templates/","title":"Template Tags","text":""},{"location":"usage/templates/#overview","title":"Overview","text":"<p>Django Countries provides template tags to work with countries in your templates without using a <code>CountryField</code> directly.</p>"},{"location":"usage/templates/#loading-the-template-tags","title":"Loading the Template Tags","text":"<p>First, load the countries template tag library at the top of your template:</p> <pre><code>{% load countries %}\n</code></pre>"},{"location":"usage/templates/#get_country","title":"get_country","text":"<p>If you have your country code stored in a different place than a <code>CountryField</code>, you can use the <code>get_country</code> template tag to get a <code>Country</code> object and have access to all of its properties.</p>"},{"location":"usage/templates/#syntax","title":"Syntax","text":"<pre><code>{% get_country 'COUNTRY_CODE' as variable_name %}\n</code></pre>"},{"location":"usage/templates/#example","title":"Example","text":"<pre><code>{% load countries %}\n{% get_country 'BR' as country %}\n{{ country.name }}\n</code></pre> <p>This will output: <code>Brazil</code></p>"},{"location":"usage/templates/#accessing-country-properties","title":"Accessing Country Properties","text":"<p>Once you have a country object, you can access any of its properties:</p> <pre><code>{% load countries %}\n{% get_country 'NZ' as country %}\n\n&lt;h2&gt;{{ country.name }}&lt;/h2&gt;\n&lt;p&gt;Code: {{ country.code }}&lt;/p&gt;\n&lt;p&gt;Alpha3: {{ country.alpha3 }}&lt;/p&gt;\n&lt;p&gt;Flag: &lt;img src=\"{{ country.flag }}\" alt=\"{{ country.name }} flag\"&gt;&lt;/p&gt;\n&lt;p&gt;Unicode flag: {{ country.unicode_flag }}&lt;/p&gt;\n</code></pre>"},{"location":"usage/templates/#using-variables","title":"Using Variables","text":"<p>You can also use a variable instead of a hard-coded country code:</p> <pre><code>{% load countries %}\n{% get_country user_country_code as country %}\n&lt;p&gt;Welcome from {{ country.name }}!&lt;/p&gt;\n</code></pre>"},{"location":"usage/templates/#get_countries","title":"get_countries","text":"<p>If you need a list of all countries, use the <code>get_countries</code> tag:</p>"},{"location":"usage/templates/#syntax_1","title":"Syntax","text":"<pre><code>{% get_countries as variable_name %}\n</code></pre>"},{"location":"usage/templates/#example_1","title":"Example","text":"<pre><code>{% load countries %}\n{% get_countries as countries %}\n&lt;select name=\"country\"&gt;\n  {% for country in countries %}\n    &lt;option value=\"{{ country.code }}\"&gt;{{ country.name }}&lt;/option&gt;\n  {% endfor %}\n&lt;/select&gt;\n</code></pre> <p>This creates a dropdown with all available countries.</p>"},{"location":"usage/templates/#building-custom-selects","title":"Building Custom Selects","text":"<p>You can use this to build more complex selects:</p> <pre><code>{% load countries %}\n{% get_countries as countries %}\n\n&lt;select name=\"country\" id=\"country-select\"&gt;\n  &lt;option value=\"\"&gt;-- Select a country --&lt;/option&gt;\n  {% for country in countries %}\n    &lt;option value=\"{{ country.code }}\" {% if country.code == selected_country %}selected{% endif %}&gt;\n      {{ country.unicode_flag }} {{ country.name }}\n    &lt;/option&gt;\n  {% endfor %}\n&lt;/select&gt;\n</code></pre>"},{"location":"usage/templates/#filtering-countries","title":"Filtering Countries","text":"<p>The <code>get_countries</code> tag respects your project's settings like <code>COUNTRIES_ONLY</code>, <code>COUNTRIES_OVERRIDE</code>, and <code>COUNTRIES_FIRST</code>.</p>"},{"location":"usage/templates/#displaying-flags","title":"Displaying Flags","text":""},{"location":"usage/templates/#individual-flag-images","title":"Individual Flag Images","text":"<pre><code>{% load countries %}\n{% load static %}\n\n{% get_country 'US' as country %}\n&lt;img src=\"{{ country.flag }}\" alt=\"{{ country.name }} flag\"&gt;\n</code></pre>"},{"location":"usage/templates/#flag-sprites-recommended","title":"Flag Sprites (Recommended)","text":"<p>For better performance when displaying multiple flags, use the CSS sprite:</p> <pre><code>{% load countries %}\n{% load static %}\n\n&lt;link rel=\"stylesheet\" href=\"{% static 'flags/sprite.css' %}\"&gt;\n\n{% get_country 'FR' as country %}\n&lt;i class=\"{{ country.flag_css }}\"&gt;&lt;/i&gt;\n</code></pre>"},{"location":"usage/templates/#high-resolution-flag-sprites","title":"High-Resolution Flag Sprites","text":"<p>For high-DPI displays:</p> <pre><code>{% load countries %}\n{% load static %}\n\n&lt;link rel=\"stylesheet\" href=\"{% static 'flags/sprite-hq.css' %}\"&gt;\n\n{% get_country 'JP' as country %}\nNormal: &lt;i class=\"{{ country.flag_css }}\"&gt;&lt;/i&gt;\nLarge: &lt;i class=\"flag2x {{ country.flag_css }}\"&gt;&lt;/i&gt;\nExtra Large: &lt;i class=\"flag3x {{ country.flag_css }}\"&gt;&lt;/i&gt;\n</code></pre>"},{"location":"usage/templates/#accessible-flags","title":"Accessible Flags","text":"<p>For better accessibility, add <code>aria-label</code>:</p> <pre><code>{% load countries %}\n{% load static %}\n\n&lt;link rel=\"stylesheet\" href=\"{% static 'flags/sprite.css' %}\"&gt;\n\n{% get_country 'CA' as country %}\n&lt;i class=\"{{ country.flag_css }}\"\n   aria-label=\"{% blocktrans with country_code=country.code %}\n     {{ country_code }} flag\n   {% endblocktrans %}\"&gt;&lt;/i&gt;\n</code></pre>"},{"location":"usage/templates/#unicode-flag-emoji","title":"Unicode Flag Emoji","text":"<p>Modern browsers and operating systems support unicode flag emoji:</p> <pre><code>{% load countries %}\n{% get_country 'DE' as country %}\n{{ country.unicode_flag }} {{ country.name }}\n</code></pre> <p>This will display: \ud83c\udde9\ud83c\uddea Germany</p>"},{"location":"usage/templates/#complete-example","title":"Complete Example","text":"<p>Here's a complete example combining multiple template tags:</p> <pre><code>{% load countries %}\n{% load static %}\n\n&lt;link rel=\"stylesheet\" href=\"{% static 'flags/sprite-hq.css' %}\"&gt;\n\n&lt;h1&gt;Country Directory&lt;/h1&gt;\n\n{% get_countries as countries %}\n&lt;div class=\"country-list\"&gt;\n  {% for country in countries %}\n    &lt;div class=\"country-item\"&gt;\n      &lt;i class=\"flag2x {{ country.flag_css }}\" aria-label=\"{{ country.code }} flag\"&gt;&lt;/i&gt;\n      &lt;h3&gt;{{ country.name }}&lt;/h3&gt;\n      &lt;dl&gt;\n        &lt;dt&gt;Code:&lt;/dt&gt;\n        &lt;dd&gt;{{ country.code }}&lt;/dd&gt;\n        &lt;dt&gt;Alpha3:&lt;/dt&gt;\n        &lt;dd&gt;{{ country.alpha3 }}&lt;/dd&gt;\n        &lt;dt&gt;Numeric:&lt;/dt&gt;\n        &lt;dd&gt;{{ country.numeric }}&lt;/dd&gt;\n        &lt;dt&gt;IOC:&lt;/dt&gt;\n        &lt;dd&gt;{{ country.ioc_code }}&lt;/dd&gt;\n      &lt;/dl&gt;\n    &lt;/div&gt;\n  {% endfor %}\n&lt;/div&gt;\n</code></pre>"},{"location":"usage/templates/#see-also","title":"See Also","text":"<ul> <li>CountryField Reference - Learn about the Country object properties</li> <li>Forms &amp; Widgets - Use countries in forms</li> <li>Settings - Configure which countries are available</li> </ul>"}]}